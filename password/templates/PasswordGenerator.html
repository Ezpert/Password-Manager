<!DOCTYPE html>
<html>
<head>
    <title>Password Generator</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <form method="post" onsubmit="event.preventDefault(); generatePassword();">
        {% csrf_token %}
        {{ form.as_p }}
        <label for="password-length">Password Length:</label>
        <input type="number" id="password-length" name="password-length" min="1" max="20" value="10">
        <button type="submit">Generate Password</button>
    </form>

    <p id="generated-password"></p>

    <script>
        function generatePassword() {
            const length = $('#password-length').val();
            $.ajax({
                url: '{% url "generate_password_ajax" %}',
                type: 'get',
                data: { 'length': length },
                success: function(response) {
                    $('#generated-password').text('Generated password: ' + response.password);
                },
                error: function() {
                    alert('Error generating password');
                }
            });
        }
    </script>
</body>
</html>
